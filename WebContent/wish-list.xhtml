<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"
>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
			<h:form>
				<f:metadata>
					<f:event type="preRenderView"
						listener="#{wishListController.refresh}" />
				</f:metadata>
			</h:form>
			<div>
			    <h:panelGroup rendered="#{wishListController.wishList.id > 0}">
			    <div class="col-sm-12" style="color:#58ad07;"><i class="fa fa-th-list"></i><b>&nbsp;Collection</b></div>
				   <div class="col-xs-6 bold border-bottom">Product</div>
	               <div class="col-xs-2 bold border-bottom">Qty</div>
	               <div class="col-xs-2 amount bold border-bottom">Price</div>
	               <div class="col-xs-2 bold border-bottom">&nbsp;</div>
				<ui:repeat var="wishListItem" value="#{wishListController.wishList.wishListItems}">
	               <div class="col-xs-5">#{wishListItem.product.productName}</div>
	               <div class="col-xs-1">#{wishListItem.quantity}</div>
	               <div class="col-xs-2 amount">#{wishListItem.product.price * wishListItem.quantity} </div>
	               <div class="col-xs-4">
                     <p:commandLink class="custom-btn1 red bold" value="X"
						action="#{wishListController.removeItem}"
						update="@all">
						<f:setPropertyActionListener
							value="#{wishListItem}"
							target="#{wishListController.wishListItem}" />
					 </p:commandLink>
					 &nbsp;
					  <p:commandLink class="custom-btn1" value="Buy Now"
					      action="product-details.xhtml?faces-redirect=true">
					      <f:setPropertyActionListener value="#{wishListItem.product}" target="#{productController.product}" />
					 </p:commandLink>
                   </div>
	            </ui:repeat>
	            <div class="col-xs-6 bold border-top">Total</div>
	            <div class="col-xs-2 amount bold border-top">#{wishListController.wishList.total}</div>
	            <div class="col-xs-4 bold border-bottom" />
	            </h:panelGroup>
	            <h:panelGroup rendered="#{wishListController.wishList.id eq 0}" class="col-sm-12">
	              <div class="col-sm-8" style="color:#58ad07;">
	              <i class="fa fa-shopping-cart"></i>&nbsp;Empty Collection
	              </div>
	            </h:panelGroup>      
			</div>
</ui:composition>
</html>