<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>
		<div class="col-lg-12 mb-4">
			<h:form>
				<f:metadata>
					<f:event type="preRenderView"
						listener="#{shoppingCartController.refresh}" />
				</f:metadata>
			</h:form>
			<div>
			    <h:panelGroup rendered="#{shoppingCartController.shoppingCart.id > 0}"
			     class="col-lg-12 mb-4 border">
			    <div class="col-lg-12 mb-4" style="color:#58ad07;"><i class="fa fa-shopping-cart"></i><b>&nbsp;Shopping Cart</b></div>
				<ui:repeat var="cartItem" value="#{shoppingCartController.shoppingCart.shoppingCartItems}">
	               <div class="col-lg-7">#{cartItem.product.productName}</div>
	               <div class="col-lg-2">#{cartItem.quantity}</div>
	               <div class="col-lg-3 amount">#{cartItem.product.price}</div>
	            </ui:repeat>  
	            <div class="col-lg-7 bold">Total</div>
	            <div class="col-lg-2">&nbsp;</div>
	            <div class="col-lg-3 bold amount">#{shoppingCartController.shoppingCart.total}</div>
	            <div class="col-lg-12 mb-4">
	                <p:commandLink class="btn btn-default" value="Checkout" name="checkout" id="checkout"
							         />
			    </div>
	            </h:panelGroup>    
	            <h:panelGroup rendered="#{shoppingCartController.shoppingCart.id eq 0}" class="col-lg-12 mb-4">
	              <div class="col-lg-8 mb-4" style="color:#58ad07;">
	              <i class="fa fa-shopping-cart"></i>&nbsp;Cart Empty
	              </div>
	            </h:panelGroup>      
			</div>
		</div>
</ui:composition>
</html>